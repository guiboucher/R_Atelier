---
title: "Introduction à R"
# author: "Yihui Xie"
institute: "INESSS, BDCA"
date: "`r Sys.Date()`"
output:
  xaringan::moon_reader:
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
    yolo: false
---
```{r setup, include=FALSE, echo=FALSE}
knitr::opts_chunk$set(echo = TRUE, comment = "#>")
```
class: center, middle

# Les bases
---

## Arithmétique (1)

```{r arithmetique_1de2}
# Addition
5 + 5

# Soustraction
5 - 5

# Multiplication
3 * 5

# Division
(5 + 5) / 2
```

---

## Arithmétique (2)

```{r arithmetique_2de2}
# Exposant
2^5

# Modulo
28 %% 6
```

Prendre note que le caractère `#` met la ligne de code en commentaire et n'est pas évalué par R.

---

## Affectation de variables (1)
Une variable permet de stocker une valeur ou un objet. On peut ensuite l'utiliser ultérieurement pour accéder facilement à cette valeur.
```{r affect_var}
# Assigner la valeur 42 à x
x <- 42

# Afficher/Imprimer la valeur de la variable x
x
print(x)
```

---

## Affectation de variables (2)
Nous pouvons appliquer des opérations arithmétiques entre des variables numériques.
```{r}
x <- 5
y <- 25
x + y
x - y
y / x
```

---

## Type de données de base (1)

- Nombres entiers : `4` (`integer`/`int`)
```{r type_entier}
integer <- 4
```
- Numérique : `4.5` (`numeric`/`num`)
```{r type_numeric}
numeric <- 4.5
```
- Logique ou booléen : `TRUE` ou `FALSE` (`logical`/`logi`)
```{r type_logic}
logique1 <- TRUE
logique2 <- FALSE
```
- Texte : `Chaîne de caractères` (`character`/`chr`)
```{r type_chr}
character1 <- "Chaine de caractères"
character2 <- 'Chaine de caractères'
```

---

## Type de données de base (2)

R peut décider que c'est numérique même si on veut des nombres entiers.  
Ajouter `L` après un nombre force la classe d'un nombre à entier au lieu de numérique
```{r}
class(5)
class(5L)
class(1:5)
```

---
class: center, middle

# Les vecteurs

---

## Créer un vecteur
On crée un vecteur avec la fonction `c()`.

```{r}
numeric_vec <- c(1, 10, 49)
character_vec <- c("a", "b", "c")
boolean_vec <- c(TRUE, FALSE, T, F)
```

---

## Mise en situation

Après une semaine à Las Vegas, on décide de prendre en note nos gains et nos pertes :
```{r}
# Poker
poker <- c(140, -50, 20, -120, 240)

# Roulette
roulette <- c(-24, 50, 100, -350, 10)
```

---

## Nommer un vecteur (1)

Nous pouvons donner un nom aux éléments d'un vecteur avec la fonction `names()`.
```{r}
# Poker - Gains/Pertes
poker <- c(140, -50, 20, -120, 240)

# Roulette - Gains/Pertes
roulette <- c(-24, 50, 100, -350, 10)

# Poker - Jour de la semaine
names(poker) <-
  c("Lundi", "Mardi", "Mercredi", "Jeudi", "Vendredi")

# Roulette - Jour de la semaine
names(roulette) <- c(
  "Lundi", "Mardi", "Mercredi", "Jeudi", "Vendredi"
)

print(poker)
```

---

## Nommer un vecteur (2)

Si une information est utilisé plus d'une fois, il est utile de créer une nouvelle variable.
```{r}
# Poker - Gains/Pertes
poker <- c(140, -50, 20, -120, 240)

# Roulette - Gains/Pertes
roulette <- c(-24, 50, 100, -350, 10)

# Jour de la semaine
jours <- c("Lundi", "Mardi", "Mercredi", "Jeudi", "Vendredi")

# Attribuer le jour de la semaine
names(poker) <- jours
names(roulette) <- jours

print(poker)
```

---

## Calculs sur un vecteur (1)

Pour chaque jour, calculons les gains et les pertes du poker et de la roulette.

```{r}
poker
roulette
total_jour <- poker + roulette
total_jour
```

---

## Calculs sur un vecteur (2)

Calculons les totaux de la semaine

```{r}
total_poker <- sum(poker)
total_poker
total_roulette <- sum(roulette)
total_roulette
total_semaine <- sum(total_jour)
total_semaine
```

---

## Comparer les gains

Vérifions si nos gains sont meilleurs au poker qu'à la roulette

```{r}
total_poker
total_roulette
total_poker > total_roulette
```

---

## Sélection dans un vecteur (1)

Pour sélectionner une valeur dans un vecteur, nous utilisons les crochets `[]`.

```{r}
poker

# Gains du mercredi
poker[3]
poker[[3]]
```

---

## Sélection dans un vecteur (2)

Il est possible de sélectionner plusieurs valeurs à l'aide d'un vecteur. Si nous voulons analyser les gains du lundi et du vendredi, nous pourrions utiliser le vecteur `c(1, 5)` à l'intérieur des crochets : `poker[c(1, 5)]`.  
Analysons les gains du mardi au jeudi :
```{r}
poker[c(2, 3, 4)]
poker[c(2:4)]
poker[2:4]
```

---

## Sélection dans un vecteur (3)

Une autre manière de sélectionner des valeurs est d'utiliser les noms lorsqu'il y en a.
```{r}
poker
poker[c("Mardi", "Jeudi")]
poker["Mercredi"]
```

---

## Sélection par comparaison (1)

Il est aussi possible de sélectionner des valeurs par comparaison.

```{r}
# Jours où les gains sont positifs
poker > 0
poker[poker > 0]

selection <- poker > 0
poker[selection]
```

---

## Sélection par comparaison (2)

Liste des opérateurs de comparaison :

- `<` : plus petit
- `>` : plus grand
- `<=` : plus petit ou égal
- `>=` : plus grand ou égal
- `==` : égal
- `!=` : pas égal, différent

---




























